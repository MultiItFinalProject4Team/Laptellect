<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.w3.org/1999/xhtml">
<html layout:decorate="~{common/layout}">
<head>
    <meta charset="UTF-8">
    <title>공지사항</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="/css/customer/nav.css" rel="stylesheet">
    <script src="https://cdn.ckeditor.com/4.16.2/standard/ckeditor.js"></script>
</head>
<body>
<div layout:fragment="content">
<div class="container mt-5">
    <header>
        <h1 align="center">고객센터</h1>
        <ul class="nav nav-pills justify-content-center" id="customer_nav-pills">
            <li class="nav-item">
                <a class="nav-link cus_nav" href="/customer/user/customer_notice">공지사항</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active cus_nav" aria-current="page" href="/customer/user/customer_personalq">1:1 문의</a>
            </li>
            <li class="nav-item">
                <a class="nav-link cus_nav" href="/customer/user/customer_chatbot">챗 봇</a>
            </li>
        </ul>
    </header>
    <div>
        <h3 th:text="${personalq.personalqNo}" id="personalqNo" >번호</h3>
        <h3 th:text="${personalq.title}">제목</h3>
        <p th:text="${personalq.createdAt}">작성일</p>
        <div class="btn-group" aria-label="Small button group">
            <a th:href="@{/customer/user/update_personalq/{personalqNo}(personalqNo=${personalq.personalqNo})}" th:if="${personalq.answer=='N'}" class="btn bg-body-secondary">문의 수정</a>
            <a th:href="@{/customer/user/delete_personalq/{personalqNo}(personalqNo=${personalq.personalqNo})}" class="btn bg-body-secondary">문의 삭제</a>
            <a th:href="@{/customer/admin/update_personala/{personalqNo}(personalqNo=${personalq.personalqNo})}" th:if="${personalq.answer=='Y'}" class="btn bg-body-secondary">답변 수정</a>
            <a th:href="@{/customer/admin/delete_personala/{personalqNo}(personalqNo=${personalq.personalqNo})}" th:if="${personalq.answer=='Y'}" class="btn bg-body-secondary">답변 삭제</a>
        </div>
    </div>
    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel" style="width: 300px;">
        <div class="carousel-indicators">
            <th:block th:each="item, num : ${imageList}">
                <button type="button" th:attr="data-bs-target='#carouselExampleIndicators', data-bs-slide-to=${num.index}, class=${num.index == 0} ? 'active' : ''"
                        aria-current="${num.index == 0 ? 'true' : 'false'}"></button>
            </th:block>
        </div>
        <div class="carousel-inner">
            <th:block th:each="item, num : ${imageList}">
                <div th:classappend="${num.index == 0} ? 'carousel-item active' : 'carousel-item'">
                    <img th:src="@{/images/{image}(image=${item})}" class="d-block w-100" alt="..." width="214px" height="200px">
                </div>
            </th:block>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <hr class="border border-dark">
    <div id="content" name="content" th:utext="${personalq.content}" readonly="true">내용</div>

    <hr class="border border-dark">

<div  th:if="${personalq.answer=='Y'}">

    <div>
        <h3 th:text="${personala.title}">제목</h3>
        <p th:text="${personala.createdAt}">작성일</p>
    </div>
    <div id="carouselExampleIndicators2" class="carousel slide" data-bs-ride="carousel" style="width: 300px;">
        <div class="carousel-indicators">
            <th:block th:each="item, num : ${imageList2}">
                <button type="button" th:attr="data-bs-target='#carouselExampleIndicators', data-bs-slide-to=${num.index}, class=${num.index == 0} ? 'active' : ''"
                        aria-current="${num.index == 0 ? 'true' : 'false'}"></button>
            </th:block>
        </div>
        <div class="carousel-inner">
            <th:block th:each="item, num : ${imageList2}">
                <div th:classappend="${num.index == 0} ? 'carousel-item active' : 'carousel-item'">
                    <img th:src="@{/images/{image}(image=${item})}" class="d-block w-100" alt="..." width="214px" height="200px">
                </div>
            </th:block>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <hr class="border border-dark">
    <div id="content2" name="content2" th:utext="${personala.content}" readonly="true">내용</div>

    <hr class="border border-dark">
</div>

</div>
    <div class="btn-group" aria-label="Small button group" th:if="${personalq.answer=='N'}">
        <a th:href="@{/customer/admin/answer_personalq/{personalqNo}(personalqNo=${personalq.personalqNo})}" class="btn bg-body-secondary">답변하기</a>
    </div>
<div class="btn-group" aria-label="Small button group">
    <a href="/customer/user/customer_personalq" class="btn bg-body-secondary">목록으로</a>
</div>
</div>
</body>
</html>
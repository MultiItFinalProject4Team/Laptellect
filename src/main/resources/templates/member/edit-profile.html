<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.w3.org/1999/xhtml">
<html layout:decorate="~{common/layout-profile}">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<div layout:fragment="content">
  <p>회원정보 수정 페이지 테스트</p>
  <form th:object="${userInfo}" method="post" action="/changeMemberInfo">
    <div class="form-group" mb-3>
      <label for="member_name"><i class="fa fa-envelope-o" aria-hidden="true"></i> 아이디</label>
      <input type="text" class="form-control" id="member_name" th:field="*{username}" readonly>
      <br>
    </div>
    <div class="form-group">
      <label for="nickName"><i class="fa fa-envelope-o" aria-hidden="true"></i> 닉네임</label>
      <input type="text" class="form-control" id="nickName" th:field="*{nickName}" required>
      <button onclick="changeNickName()">변경</button>
      <br>
    </div>
    <div class="form-group">
      <label for="email"><i class="fas fa-lock"></i> 이메일</label>
      <input type="emial" class="form-control" id="email" th:field="*{email}" readonly>
      <button onclick="changeEmail()">변경</button>
      <br>
    </div>
    <div class="form-group>
      <label for="confirmPassword><i class="fas fa-lock"></i> 비밀번호</label>
      <input type="password" class="form-control" id="confirmPassword" th:field="*{password}" readonly>
      <button onclick="changePassword()">변경</button>
      <br>
    </div>
    <div class="form-group>
      <label for="phoneNumber><i class="fas fa-lock"></i> 휴대폰 번호</label>
      <input type="tel" class="form-control" id="phoneNumber" th:field="*{password}" required>
      <button onclick="changePhoneNumber()">변경</button>
      <br>
    </div>
    <button type="submit" class="btn btn-custom w-100" id="sing-up">저장</button>
  </form>
  </form>

  <script>
    function changeNickName() { // 닉네임 변경
      windows.open("/api/change-nickName","_blank", "width=400,height=300,menubar=no,toolbar=no")
    }

    function changeEmail() { // 이메일 변경
      windows.open("/api/change-email", "width=400,height=300,menubar=no,toolbar=no")
    }

    function changePassword() { // 비밀번호 변경
      windows.open("/api/change-password", "width=400,height=300,menubar=no,toolbar=no")
    }

    function changePassword() { // 휴대폰 번호 변경
      windows.open("/api/change-phoneNumber", "width=400,height=300,menubar=no,toolbar=no")
    }
  </script>

</div>

</body>
</html>
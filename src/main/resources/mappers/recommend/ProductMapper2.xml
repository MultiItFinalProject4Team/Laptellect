<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.multi.laptellect.recommend.txttag.model.dao.ProductDAO2">
    <select id="getAllProducts" resultType="com.multi.laptellect.recommend.txttag.model.dto.ProductDTO2">
        SELECT
            p.product_no AS productNo,
            p.product_name AS productName,
            (SELECT ps.option_value FROM product_spec ps WHERE ps.product_no = p.product_no AND ps.category_no = 'GPU') AS gpu,
            (SELECT ps.option_value FROM product_spec ps WHERE ps.product_no = p.product_no AND ps.category_no = 'CPU') AS cpu,
            (SELECT ps.option_value FROM product_spec ps WHERE ps.product_no = p.product_no AND ps.category_no = 'WEIGHT') AS weight,
            (SELECT ps.option_value FROM product_spec ps WHERE ps.product_no = p.product_no AND ps.category_no = 'SCREEN_SIZE') AS screenSize,
            (SELECT ps.option_value FROM product_spec ps WHERE ps.product_no = p.product_no AND ps.category_no = 'BATTERY') AS batteryCapacity
        FROM
            product p
        WHERE
            p.type_no = 1
    </select>
</mapper>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.multi.laptellect.product.model.mapper.ProductMapper">


    <!-- 제품 삽입 쿼리-->
    <insert id="insertProduct" parameterType="com.multi.laptellect.product.model.dto.ProductDTO">
        INSERT INTO product(type_no, product_name, price, reference_code, created_at, product_code)
        values(#{typeNo}, #{productName}, #{price}, #{referenceCode}, #{createdAt}, #{productCode})
    </insert>

    <!-- 중복 확인-->
    <select id="countByProductCode" resultType="int" parameterType="string">
        SELECT COUNT(*) FROM product WHERE product_code = #{productCode}
    </select>

    <!-- 전체 제품 조회-->
    <select id="getAllProducts" resultType="com.multi.laptellect.product.model.dto.ProductDTO">
        SELECT product_no AS productNo, type_no AS typeNo, product_name AS productName, price, reference_code AS referenceCode, created_at AS createdAt, updated_at AS updatedAt, product_code AS productCode
        FROM product
    </select>

    <!-- 선택 제품 조회-->
    <select id="getProductByCode" parameterType="String" resultType="com.multi.laptellect.product.model.dto.ProductDTO">
        SELECT * FROM product WHERE product_code = #{productCode}
    </select>
    


</mapper>